<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white text-center">
            <h2>User Registration</h2>
        </div>
        <div class="card-body">
            <form #registerForm="ngForm" (ngSubmit)="onSubmit(registerForm)">
             
              <div class="mb-3">
                <label for="username" class="form-label">Username</label>
                <input type="text" id="username" class="form-control" name="username" [(ngModel)]="user.username" required minlength="3" #username="ngModel" placeholder="Enter your username">
                <div *ngIf="username.invalid && username.touched" class="text-danger">
                  <small *ngIf="username.errors?.['required']">Username is required.</small>
                  <small *ngIf="username.errors?.['minlength']">Username must be at least 3 characters long.</small>
                </div>
              </div>
    
              <div class="mb-3">
                <label for="firstname" class="form-label">First Name</label>
                <input type="text" id="firstname" class="form-control" name="firstname" [(ngModel)]="user.firstName" required #firstname="ngModel" placeholder="Enter your first name">
                <div *ngIf="firstname.invalid && firstname.touched" class="text-danger">
                  <small>First name is required.</small>
                </div>
              </div>
          
              <div class="mb-3">
                <label for="lastname" class="form-label">Last Name</label>
                <input type="text" id="lastname" class="form-control" name="lastname" [(ngModel)]="user.lastName" required #lastname="ngModel" placeholder="Enter your last name">
                <div *ngIf="lastname.invalid && lastname.touched" class="text-danger">
                  <small>Last name is required.</small>
                </div>
              </div>

              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" id="email" class="form-control" name="email" [(ngModel)]="user.email" required email #email="ngModel" placeholder="Enter your email">
                <div *ngIf="email.invalid && email.touched" class="text-danger">
                  <small *ngIf="email.errors?.['required']">Email is required.</small>
                  <small *ngIf="email.errors?.['email']">Please enter a valid email address.</small>
                </div>
              </div>

              <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" id="password" class="form-control" name="password" [(ngModel)]="user.password" required minlength="7" #password="ngModel" placeholder="Enter your password">
                <div *ngIf="password.invalid && password.touched" class="text-danger">
                  <small *ngIf="password.errors?.['required']">Password is required.</small>
                  <small *ngIf="password.errors?.['minlength']">Password must be at least 6 characters long.</small>
                </div>
              </div>
     
              <div class="mb-3">
                <label for="verifyPassword" class="form-label">Verify Password</label>
                <input type="password" id="verifyPassword" class="form-control" name="verifyPassword" [(ngModel)]="user.verifyPassword" required [pattern]="user.password" #verifyPassword="ngModel" placeholder="Re-enter your password">
                <div *ngIf="verifyPassword.invalid && verifyPassword.touched" class="text-danger">
                  <small *ngIf="verifyPassword.errors?.['required']">Please confirm your password.</small>
                  <small *ngIf="verifyPassword.errors?.['pattern']">Passwords do not match.</small>
                </div>
              </div>
       
              <div class="mb-3">
                <label for="role" class="form-label">Role</label>
                <select id="role" class="form-select" name="role" [(ngModel)]="user.role" required #role="ngModel">
                  <option value="" disabled>Select your role</option>
                  <option value="Admin">Admin</option>
                  <option value="Customer">Customer</option>
                  <option value="Nutritionist">Nutritionist</option>
                </select>
                <div *ngIf="role.invalid && role.touched" class="text-danger">
                  <small>Role is required.</small>
                </div>
              </div>
      
              <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary" [disabled]="registerForm.invalid">Register</button>
                <button type="button" class="btn btn-secondary" (click)="goToLogin()">Already registered? Login</button>
              </div>
            </form>
        </div>
    </div>
</div>
